
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Perfect Remote Pair Environment - rylwin's blog</title>
  <meta name="author" content="Ryan Winograd">

  
  <meta name="description" content="I recently started working with a remote programmer and quickly realized we
needed an effective way to pair remotely. Using a ssh, vim, and tmux ( &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rylwin.github.io/blog/2013/06/25/perfect-remote-pair-environment">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="rylwin's blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6332560-8']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">rylwin's blog</a></h1>
  
    <h2>coding for results</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rylwin.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">The Perfect Remote Pair Environment</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-25T10:37:00-05:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I recently started working with a remote programmer and quickly realized we
needed an effective way to pair remotely. Using a ssh, vim, and tmux (along
with some other nifty tools) I was able to set up a powerful pair environment
in minutes. Here are the steps:</p>

<h2>1. Have a box you can SSH into</h2>

<p>I like using
<a href="http://www.linode.com/?r=baecb63cb7bb6144d5328e91159225e45e876115">Linode</a>
(full disclosure: that link has a referral code), but any *nix box you can SSH
into will do. All following instructions are to be performed on your remote
box, unless otherwise specified.</p>

<h2>2. Create a new user account</h2>

<p>The first thing I did was add a new user called &lsquo;pair&rsquo; to a Linode I use for
development.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo add_user pair</span></code></pre></td></tr></table></div></figure>


<p>I&rsquo;ve seen ways to <a href="http://readystate4.com/2011/01/02/sharing-remote-terminal-session-between-two-users-with-tmux/">share tmux sessions between two user
accounts</a>,
but then I cannot let my pair wrap up work on <em>my</em> tmux session without
watching them (I have trust issues). But using an account just for pairing
means:</p>

<ul>
<li>no worries about pair partner messing with my personal files</li>
<li>it&rsquo;s easy to have config files tweaked for pairing</li>
<li>I can let pair partners log in via their public key (they don&rsquo;t need the
password and I can remove their key at any time)</li>
</ul>


<h2>3. Configure tmux / vim</h2>

<p>For those who aren&rsquo;t aware, <a href="http://tmux.sourceforge.net/">tmux</a> is a termainal
multiplexer&mdash;it lets you easily switch between programs in one terminal. It&rsquo;s a
fantastic piece of software and if you haven&rsquo;t used it before I highly
recommend you take a look.</p>

<p>After setting up the user I copied over my vimrc and tmux configurations from
my dotfiles repo. One issue is that users (like myself) prefer their own
configss. The nice thing about having a separate pair account is that it&rsquo;s
easier to compromise on config changes. After all, it&rsquo;s not a change to <em>my</em>
vimrc, it&rsquo;s our shared vimrc.</p>

<p>My pair partner is a big fan of the <a href="http://vimbits.com/bits/180">jk smash</a> to
switch back to normal mode.  When we were pairing, his instincts would take
over and he would add &lsquo;jk&rsquo; to the end of lines of code. I told him just
to add it in to the vimrc, and that was that.</p>

<p>Note: Screen would also work fine instead of tmux. As would emacs or any other
terminal editor in place of vim. But tmux/vim is my preference.</p>

<h2>4. SSH Keys</h2>

<p>No need to give out the password to the pair account. Just ask your pair for
their SSH key and copy it over yourself. Paste it into ~/.ssh/authorized_keys
within your pair account. If you ever want to revoke their access, just remove
their key (note that this won&rsquo;t close an existing session).</p>

<h2>5. Local SSH Config / Port Forwarding</h2>

<p>I mostly work on Rails apps. Though we are often just looking at code and
running tests while in the pair environment, it&rsquo;s sometimes helpful to interact
with the app in the browser to diagnose issues and check behavior. With port
forwarding, we can run the dev Rails server in our pair environment and access
it using our browsers locally.</p>

<p>The ssh command to log in with forwarding looks like:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh pair@server.url -L 3000:127.0.0.1:3000</span></code></pre></td></tr></table></div></figure>


<p>With this port forwarding, I can open my browser and go to <code>localhost:3000</code> to
access the dev Rails server running on the remote box. That&rsquo;s quite a bit to
type out every time, so I added an alias to my <code>.ssh/config</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Host pair
</span><span class='line'>  HostName server.url
</span><span class='line'>  User pair
</span><span class='line'>  LocalForward 3000 127.0.0.1:3000</span></code></pre></td></tr></table></div></figure>


<p>Wit the alias I can log in with just <code>ssh pair</code>.</p>

<h2>6. Git Pairing</h2>

<p>When we pair it&rsquo;s nice to have the git log reflect that we worked together on a
piece of code. Fortunately, the
<a href="https://github.com/glg/git-pairing">git-pairing</a> gem makes this easy. It
allows you to pre-define several pair partners who you can identify by their
initials. When you want to commit as a pair, just type:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git pair initials1 initials2</span></code></pre></td></tr></table></div></figure>


<p>And when you&rsquo;re working solo:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git solo</span></code></pre></td></tr></table></div></figure>


<h2>Conclusion</h2>

<p>The pair environment + a phone call / skype makes working remotely incredibly
easy. I&rsquo;ve found this setup to be just as easy as working side-by-side in
person. Perhaps even better, because when we&rsquo;re done pairing I can logout of
the pair server and get right back to working locally.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Ryan Winograd</span></span>

      








  


<time datetime="2013-06-25T10:37:00-05:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/tmux-vim-pair/'>tmux,vim,pair</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://rylwin.github.io/blog/2013/06/25/perfect-remote-pair-environment/" data-via="" data-counturl="http://rylwin.github.io/blog/2013/06/25/perfect-remote-pair-environment/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/04/19/sending-emails-via-gmail-as-another-person/" title="Previous Post: Sending emails via Gmail as "another person"">&laquo; Sending emails via Gmail as "another person"</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/07/29/stop-writing-js-for-nested-attributes/" title="Next Post: Stop writing JS for nested attributes">Stop writing JS for nested attributes &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/29/think-about-your-architecture/">Think about your architecture</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/29/stop-writing-js-for-nested-attributes/">Stop writing JS for nested attributes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/25/perfect-remote-pair-environment/">The Perfect Remote Pair Environment</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/19/sending-emails-via-gmail-as-another-person/">Sending emails via Gmail as "another person"</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/04/skip-reloading-fixtures-each-time-you-run-your-rails-tests/">Skip reloading fixtures each time you run your Rails tests</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ryan Winograd -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rylwinsblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rylwin.github.io/blog/2013/06/25/perfect-remote-pair-environment/';
        var disqus_url = 'http://rylwin.github.io/blog/2013/06/25/perfect-remote-pair-environment/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
